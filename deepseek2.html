<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Stop the Timer Game</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="logo">
                <h1>Stop<span>Timer</span></h1>
            </div>
            <ul class="sidebar-menu" id="sidebarMenu">
                <!-- Menu items will be populated by JavaScript -->
            </ul>
        </div>
        
        <!-- Main Content -->
        <div class="main-content" id="mainContent">
            <header>
                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="auth-section" id="authSection">
                    <button id="loginBtn" class="btn btn-primary">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                    <button id="registerBtn" class="btn btn-success">
                        <i class="fas fa-user-plus"></i> Register
                    </button>
                    <button id="logoutBtn" class="btn btn-danger" style="display: none;">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </header>
            
            <!-- Game Section -->
            <div class="content-section active" id="gameSection">
                <div class="game-section">
                    <h2 class="section-title">Stop The Timer Game</h2>
                    
                    <!-- Gift Card Info Display -->
                    <div class="giftcard-info" id="giftcardInfo" style="display: none;">
                        <h4>Active Gift Card</h4>
                        <p>Card: <span id="activeCardCode"></span></p>
                        <p class="plays-remaining">Balance: <span id="giftcardBalance">0</span></p>
                    </div>
                    
                    <div class="target-time" id="targetTimeDisplay" style="display: none;">
                        Target Time: <span id="targetTimeValue">00.00</span> seconds
                    </div>
                    <div class="timer-display" id="timerDisplay">00.00</div>
                    <div class="game-controls">
                        <button id="payGameBtn" class="btn btn-warning game-btn">
                            <i class="fas fa-credit-card"></i> Pay to Play
                        </button>
                        <button id="startBtn" class="btn btn-success game-btn" disabled>
                            <i class="fas fa-play"></i> Start Game
                        </button>
                        <button id="stopBtn" class="btn btn-danger game-btn" disabled>
                            <i class="fas fa-stop"></i> Stop Timer
                        </button>
                    </div>
                    <div class="stats">
                        <div class="stat-card">
                            <div>Games Played</div>
                            <div class="stat-value" id="gamesPlayed">0</div>
                        </div>
                        <div class="stat-card">
                            <div>Best Time</div>
                            <div class="stat-value" id="bestTime">00.00</div>
                        </div>
                    </div>
                </div>
                
                <!-- Social Links Section -->
                <div class="page-footer">
                    <h4>Follow Us</h4>
                    <div class="social-links" id="gameSocialLinks">
                        <!-- Social links will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <!-- Dashboard Section -->
            <div class="content-section" id="dashboardSection">
                <div class="dashboard-section">
                    <h2 class="section-title">Dashboard</h2>
                    <div class="dashboard-actions">
                        <div class="dashboard-card">
                            <h3>Wallet Balance</h3>
                            <div class="balance" id="walletBalance">₦0.00</div>
                            <button id="fundWalletBtn" class="btn btn-primary">
                                <i class="fas fa-wallet"></i> Fund Wallet
                            </button>
                        </div>
                        <div class="dashboard-card">
                            <h3>Gift Cards</h3>
                            <div class="balance" id="giftCardBalance">0</div>
                            <button id="generateGiftCardBtn" class="btn btn-warning">
                                <i class="fas fa-gift"></i> Generate Gift Cards
                            </button>
                        </div>
                        <div class="dashboard-card">
                            <h3>Giveaway Cashback</h3>
                            <div class="balance" id="giveawayCashbackBalance">₦0.00</div>
                            <button id="requestWithdrawalBtn" class="btn btn-info">
                                <i class="fas fa-money-bill-wave"></i> Request Withdrawal
                            </button>
                        </div>
                    </div>
                    
                    <!-- Customer Care Panel (for assigned customer care users) -->
                    <div id="customerCarePanel" class="customer-care-panel" style="display: none;">
                        <div class="customer-care-header">
                            <h3 class="section-title">Customer Care Panel</h3>
                            <div class="refresh-container">
                                <button class="refresh-btn" id="refreshConversationsBtn">
                                    <i class="fas fa-sync-alt"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="conversation-list" id="conversationList">
                            <!-- Conversations will be populated by JavaScript -->
                        </div>
                        
                        <div class="chat-messages" id="careChatMessages">
                            <!-- Messages will be populated by JavaScript -->
                        </div>
                        
                        <form id="careReplyForm">
                            <div class="form-group">
                                <textarea id="careReplyMessage" placeholder="Type your reply..." rows="3" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary" style="width: 100%;">
                                <i class="fas fa-paper-plane"></i> Send Reply
                            </button>
                        </form>
                    </div>
                    
                    <button id="customerCareBtn" class="btn btn-info" style="width: 100%; margin-bottom: 20px;">
                        <i class="fas fa-headset"></i> Contact Customer Care
                    </button>
                    
                    <!-- Available Gift Cards Section -->
                    <div class="transaction-history" style="margin-bottom: 30px;">
                        <h3 class="section-title">Available Gift Cards</h3>
                        <div class="giftcard-filters">
                            <button class="filter-btn active" data-filter="all">All</button>
                            <button class="filter-btn" data-filter="valid">Valid</button>
                            <button class="filter-btn" data-filter="used">Used</button>
                            <button class="filter-btn" data-filter="winners">Winners</button>
                            <button class="filter-btn" id="viewAllGiftCardsBtn">View All</button>
                        </div>
                        <div id="availableGiftCardsList">
                            <!-- Gift cards will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="transaction-history">
                        <div class="section-header">
                            <h3>Transaction History</h3>
                            <div class="refresh-container">
                                <span>Last updated: <span id="lastUpdated">Just now</span></span>
                                <button class="refresh-btn" id="refreshTransactionsBtn">
                                    <i class="fas fa-sync-alt"></i>
                                </button>
                            </div>
                        </div>
                        <div class="form-group">
                            <select id="transactionFilter">
                                <option value="all">All Transactions</option>
                                <option value="giftcards">Gift Card Transactions</option>
                                <option value="used">Used Gift Cards</option>
                                <option value="winners">Winners</option>
                                <option value="losers">Losers</option>
                                <option value="cashback">Giveaway Cashback</option>
                                <option value="withdrawals">Withdrawals</option>
                            </select>
                        </div>
                        <div class="transaction-table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Type</th>
                                        <th>Amount</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody id="transactionTable">
                                    <tr>
                                        <td colspan="4" style="text-align: center;">No transactions yet</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <button class="transaction-toggle" id="transactionToggle">View All Transactions</button>
                        <div class="transaction-dropdown" id="transactionDropdown">
                            <!-- Additional transactions will be loaded here -->
                        </div>
                    </div>
                    
                    <!-- Admin Section (only visible to admins) -->
                    <div id="adminSection" class="admin-section" style="display: none;">
                        <h3 class="section-title">Admin Panel</h3>
                        
                        <!-- Admin Stats Cards -->
                        <div class="admin-stats-cards">
                            <div class="admin-stats-card">
                                <h3>Total Users</h3>
                                <div class="admin-stats-value" id="totalUsers">0</div>
                            </div>
                            <div class="admin-stats-card">
                                <h3>Total Balance</h3>
                                <div class="admin-stats-value" id="totalBalance">₦0.00</div>
                            </div>
                            <div class="admin-stats-card">
                                <h3>Today's Users</h3>
                                <div class="admin-stats-value" id="todayUsers">0</div>
                            </div>
                            <div class="admin-stats-card">
                                <h3>Today's Revenue</h3>
                                <div class="admin-stats-value" id="todayRevenue">₦0.00</div>
                            </div>
                        </div>
                        
                        <!-- User Filters -->
                        <div class="admin-user-filters">
                            <select id="userFilter">
                                <option value="all">All Users</option>
                                <option value="just_funded">Just Funded</option>
                                <option value="newly_joined">Newly Joined</option>
                                <option value="highest_balance">Highest Balance</option>
                                <option value="total_users">Total Users by Date</option>
                                <option value="total_funds">Total Funds by Date</option>
                            </select>
                            <input type="date" id="filterDate">
                            <button class="btn btn-primary" id="applyFilterBtn">Apply Filter</button>
                            <button class="btn btn-info" id="sendNotificationBtn">Send Notification</button>
                        </div>
                        
                        <!-- Country Tabs for Admin -->
                        <div class="admin-country-tabs">
                            <div class="admin-country-tab active" data-country="nigeria">Nigeria (₦)</div>
                            <div class="admin-country-tab" data-country="other">Other (USDT)</div>
                        </div>
                        
                        <div class="admin-controls">
                            <button id="manageUsersBtn" class="btn btn-primary">
                                <i class="fas fa-users"></i> Manage Users
                            </button>
                            <button id="viewMessagesBtn" class="btn btn-info">
                                <i class="fas fa-envelope"></i> View Messages
                            </button>
                            <button id="manageGiftCardsBtn" class="btn btn-info">
                                <i class="fas fa-gift"></i> Manage Gift Cards
                            </button>
                            <button id="generateVendorCardBtn" class="btn btn-warning">
                                <i class="fas fa-gift"></i> Generate Vendor Card
                            </button>
                            <button id="assignCardBtn" class="btn btn-success">
                                <i class="fas fa-tag"></i> Assign Gift Card
                            </button>
                            <button id="gameSettingsBtn" class="btn btn-info">
                                <i class="fas fa-cog"></i> Game Settings
                            </button>
                            <button id="socialSettingsBtn" class="btn btn-primary">
                                <i class="fas fa-share-alt"></i> Social Settings
                            </button>
                            <button id="withdrawalRequestsBtn" class="btn btn-warning">
                                <i class="fas fa-money-bill-wave"></i> Withdrawal Requests
                            </button>
                            <button id="pendingTransactionsBtn" class="btn btn-danger">
                                <i class="fas fa-clock"></i> Payment Requests
                            </button>
                            <button id="customerCareManagementBtn" class="btn btn-success">
                                <i class="fas fa-headset"></i> Customer Care Management
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Social Links Section -->
                <div class="page-footer">
                    <h4>Follow Us</h4>
                    <div class="social-links" id="dashboardSocialLinks">
                        <!-- Social links will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <!-- Giveaway Section -->
            <div class="content-section" id="giveawaySection">
                <div class="dashboard-section">
                    <h2 class="section-title">Create Giveaway</h2>
                    
                    <div class="giveaway-type-dropdown">
                        <div class="dropdown-header">
                            <span id="selectedGiveawayType">Open Giveaway</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="dropdown-options">
                            <div class="dropdown-option active" data-type="open">
                                <h3>Open Giveaway</h3>
                                <p>Anyone can join using the link</p>
                                <p class="price" id="openGiveawayPriceDisplay">₦2,000</p>
                            </div>
                            <div class="dropdown-option" data-type="giftcard">
                                <h3>Gift Card Giveaway</h3>
                                <p>Only your assigned gift cards can be used</p>
                                <p class="price" id="giftcardGiveawayPriceDisplay">Custom Price</p>
                            </div>
                        </div>
                    </div>
                    
                    <form id="giveawayForm">
                        <input type="hidden" id="giveawayType" value="open">
                        
                        <div class="giveaway-form-grid">
                            <div class="form-group">
                                <label for="giveawayTitle">Giveaway Title</label>
                                <input type="text" id="giveawayTitle" required>
                            </div>
                            <div class="form-group">
                                <label for="giveawayDifficulty">Difficulty Level</label>
                                <select id="giveawayDifficulty" required>
                                    <option value="easy">Easy</option>
                                    <option value="medium">Medium</option>
                                    <option value="hard">Hard</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="participantLimit">Number of Participants</label>
                                <input type="number" id="participantLimit" min="1" required>
                            </div>
                            <div class="form-group">
                                <label for="winnersLimit">Number of Winners</label>
                                <input type="number" id="winnersLimit" min="1" required>
                            </div>
                            <div class="form-group">
                                <label for="giveawayStart">Start Time</label>
                                <input type="datetime-local" id="giveawayStart" required>
                            </div>
                            <div class="form-group">
                                <label for="winningTime">Winning Time (seconds)</label>
                                <input type="number" id="winningTime" step="0.01" min="0.1" required>
                            </div>
                            <div class="form-group">
                                <label for="socialTask">Social Media Task</label>
                                <input type="text" id="socialTask" placeholder="Follow our Instagram" required>
                            </div>
                            <div class="form-group">
                                <label for="socialLink">Social Media Link</label>
                                <input type="url" id="socialLink" placeholder="https://instagram.com/username" required>
                            </div>
                        </div>
                        
                        <div id="giftcardGiveawayFields" style="display: none;">
                            <div class="form-group">
                                <label for="giftcardCount">Number of Gift Cards to Assign</label>
                                <input type="number" id="giftcardCount" min="1" value="1">
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-warning" style="width: 100%;">
                            <i class="fas fa-shopping-cart"></i> Buy & Generate Giveaway
                        </button>
                    </form>
                    
                    <!-- Giveaway Created Successfully Section -->
                    <div id="giveawayCreatedSection" class="giveaway-created" style="display: none;">
                        <h3>Giveaway Created Successfully!</h3>
                        <p>Share this link with participants:</p>
                        <div class="giveaway-link">
                            <input type="text" id="giveawayLinkInput" readonly>
                            <button class="btn btn-primary" id="copyGiveawayLinkBtn">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                        </div>
                        <p>Gift Cards Generated: <span id="generatedGiftCardsCount">0</span></p>
                        <div id="generatedGiftCardsList"></div>
                    </div>
                    
                    <div class="transaction-history" style="margin-top: 40px;">
                        <h3 class="section-title">My Giveaways</h3>
                        <div class="transaction-table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Title</th>
                                        <th>Type</th>
                                        <th>Participants</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="giveawayTable">
                                    <tr>
                                        <td colspan="5" style="text-align: center;">No giveaways yet</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Social Links Section -->
                <div class="page-footer">
                    <h4>Follow Us</h4>
                    <div class="social-links" id="giveawaySocialLinks">
                        <!-- Social links will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <!-- Giveaway Hunt Section -->
            <div class="content-section" id="giveawayHuntSection">
                <div class="dashboard-section">
                    <h2 class="section-title">Giveaway Hunt</h2>
                    <p style="text-align: center; margin-bottom: 30px;">Browse and participate in public giveaways!</p>
                    
                    <div class="form-group">
                        <input type="text" id="searchGiveaways" placeholder="Search giveaways...">
                    </div>
                    
                    <div class="giveaway-hunt-grid" id="giveawayHuntGrid">
                        <!-- Giveaway cards will be populated by JavaScript -->
                        <div style="text-align: center; grid-column: 1 / -1; padding: 40px;">
                            <p>Loading giveaways...</p>
                        </div>
                    </div>
                </div>
                
                <!-- Social Links Section -->
                <div class="page-footer">
                    <h4>Follow Us</h4>
                    <div class="social-links" id="giveawayHuntSocialLinks">
                        <!-- Social links will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <!-- Affiliate Dashboard Section -->
            <div class="content-section" id="affiliateSection">
                <div class="dashboard-section">
                    <h2 class="section-title">Affiliate Dashboard</h2>
                    
                    <div class="affiliate-stats">
                        <div class="dashboard-card">
                            <h3>Total Earnings</h3>
                            <div class="balance" id="affiliateEarnings">₦0.00</div>
                        </div>
                        <div class="dashboard-card">
                            <h3>Available Balance</h3>
                            <div class="balance" id="affiliateBalance">₦0.00</div>
                        </div>
                        <div class="dashboard-card">
                            <h3>Referred Users</h3>
                            <div class="balance" id="referredUsers">0</div>
                        </div>
                        <div class="dashboard-card">
                            <h3>Active Links</h3>
                            <div class="balance" id="activeLinks">0</div>
                        </div>
                    </div>
                    
                    <button id="requestAffiliateWithdrawalBtn" class="btn btn-info" style="width: 100%; margin-bottom: 20px;">
                        <i class="fas fa-money-bill-wave"></i> Request Withdrawal
                    </button>
                    
                    <div class="transaction-history" style="margin-bottom: 30px;">
                        <h3 class="section-title">Affiliate Transactions</h3>
                        <div class="transaction-table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Giveaway</th>
                                        <th>Commission</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody id="affiliateTransactionTable">
                                    <tr>
                                        <td colspan="4" style="text-align: center;">No affiliate transactions yet</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <h3 class="section-title">Active Affiliate Links</h3>
                    <div id="affiliateLinksList">
                        <!-- Affiliate links will be populated by JavaScript -->
                    </div>
                    
                    <h3 class="section-title">Available Giveaways</h3>
                    <div class="form-group">
                        <select id="giveawayFilter">
                            <option value="all">All Giveaways</option>
                            <option value="highest">Highest Paying</option>
                            <option value="verified">Verified Users</option>
                        </select>
                    </div>
                    
                    <div class="giveaway-list" id="affiliateGiveawayList">
                        <!-- Giveaway cards will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Social Links Section -->
                <div class="page-footer">
                    <h4>Follow Us</h4>
                    <div class="social-links" id="affiliateSocialLinks">
                        <!-- Social links will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <!-- Shop Section -->
            <div class="content-section" id="shopSection">
                <div class="dashboard-section">
                    <h2 class="section-title">Shop</h2>
                    <p style="text-align: center; margin-bottom: 30px;">Welcome to our shop! Explore our products and services.</p>
                    
                    <div class="dashboard-actions">
                        <div class="dashboard-card">
                            <h3>Gift Cards</h3>
                            <p>Purchase gift cards to play the game</p>
                            <button class="btn btn-warning" id="shopGiftCardBtn">
                                <i class="fas fa-gift"></i> Buy Gift Cards
                            </button>
                        </div>
                        <div class="dashboard-card">
                            <h3>Premium Features</h3>
                            <p>Unlock exclusive game features</p>
                            <button class="btn btn-primary" id="premiumBtn">
                                <i class="fas fa-crown"></i> Upgrade Now
                            </button>
                        </div>
                        <div class="dashboard-card">
                            <h3>Merchandise</h3>
                            <p>Get official StopTimer merchandise</p>
                            <button class="btn btn-info" id="merchandiseBtn">
                                <i class="fas fa-shopping-bag"></i> Shop Now
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Social Links Section -->
                <div class="page-footer">
                    <h4>Follow Us</h4>
                    <div class="social-links" id="shopSocialLinks">
                        <!-- Social links will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <!-- Giveaway Ended Section -->
            <div class="content-section" id="giveawayEndedSection">
                <div class="giveaway-ended">
                    <h2>Giveaway Ended</h2>
                    <p>We're sorry, this giveaway has ended. All available spots have been filled.</p>
                    <p>Follow us on social media to get notified when your favorite creators or vendors start a new giveaway!</p>
                    <div class="social-links" id="giveawayEndedSocialLinks">
                        <!-- Social links will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- All Modals -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Login</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
            </form>
        </div>
    </div>
    
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Register</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="registerForm">
                <div class="form-group">
                    <label for="registerName">Full Name</label>
                    <input type="text" id="registerName" required>
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword">Password</label>
                    <input type="password" id="registerPassword" required>
                </div>
                
                <!-- Country Selection -->
                <div class="form-group">
                    <label>Select Country</label>
                    <div class="country-selector">
                        <div class="country-btn active" data-country="nigeria">
                            <h4>Nigeria</h4>
                            <p>Currency: Naira (₦)</p>
                        </div>
                        <div class="country-btn" data-country="other">
                            <h4>Other Countries</h4>
                            <p>Currency: USDT</p>
                        </div>
                    </div>
                    <input type="hidden" id="userCountry" value="nigeria">
                </div>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="registerAffiliate"> Register as Affiliate
                    </label>
                </div>
                <button type="submit" class="btn btn-success" style="width: 100%;">Register</button>
            </form>
        </div>
    </div>
    
    <div id="fundWalletModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Fund Wallet</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="form-group">
                <p style="text-align: center; margin-bottom: 20px;">
                    Click the button below to fund your wallet:
                </p>
                <a href="#" id="fundWalletLink" class="payment-link" style="width: 100%; text-align: center; display: block;">
                    <i class="fas fa-wallet"></i> Fund Wallet
                </a>
            </div>
            <div class="form-group">
                <button id="iHaveFundedBtn" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-check-circle"></i> I Have Funded My Wallet
                </button>
            </div>
            <div class="fund-wallet-dropdown" id="fundWalletDropdown">
                <form id="fundWalletForm">
                    <div class="form-group">
                        <label for="fundName">Full Name</label>
                        <input type="text" id="fundName" required>
                    </div>
                    <div class="form-group">
                        <label for="fundEmail">Email</label>
                        <input type="email" id="fundEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="fundAmount">Amount (<span id="currencySymbol">₦</span>)</label>
                        <input type="number" id="fundAmount" min="100" step="100" required>
                    </div>
                    <!-- ADDED: Payment Description and Account Details -->
                    <div class="form-group">
                        <label for="paymentDescription">Payment Description</label>
                        <textarea id="paymentDescription" placeholder="Describe how you made the payment (e.g., Bank Transfer, USDT transfer, etc.)" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="accountDetails">Account Details (Account Name/Number)</label>
                        <input type="text" id="accountDetails" placeholder="e.g., John Doe / 1234567890" required>
                    </div>
                    <button type="submit" class="btn btn-success" style="width: 100%;">Submit Funding Details</button>
                </form>
            </div>
        </div>
    </div>
    
    <div id="customerCareModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Customer Care</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="chat-messages" id="chatMessages">
                <!-- Messages will be populated by JavaScript -->
            </div>
            <form id="customerCareForm">
                <div class="form-group">
                    <textarea id="customerMessage" placeholder="Type your message here..." rows="3" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Send Message</button>
            </form>
        </div>
    </div>
    
    <div id="generateGiftCardModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Generate Gift Cards</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="giftcard-type-selector">
                <div class="giftcard-type-btn active" data-type="single">
                    <h4>Single Gift Card</h4>
                    <p>Custom amount</p>
                </div>
                <div class="giftcard-type-btn" data-type="bulk">
                    <h4>Bulk Gift Cards</h4>
                    <p>₦100 each</p>
                </div>
            </div>
            <form id="giftCardForm">
                <input type="hidden" id="giftCardType" value="single">
                
                <div id="singleGiftCardFields">
                    <div class="form-group">
                        <label for="giftCardAmount">Amount to Spend (<span id="giftCardCurrencySymbol">₦</span>)</label>
                        <input type="number" id="giftCardAmount" min="100" step="100" required>
                    </div>
                    <div class="form-group">
                        <p>You will get 1 gift card with <span id="giftCardValue">0</span> balance.</p>
                    </div>
                </div>
                
                <div id="bulkGiftCardFields" style="display: none;">
                    <div class="form-group">
                        <label for="bulkGiftCardAmount">Total Amount to Spend (<span id="bulkGiftCardCurrencySymbol">₦</span>)</label>
                        <input type="number" id="bulkGiftCardAmount" min="100" step="100" required>
                    </div>
                    <div class="form-group">
                        <p>You will get <span id="bulkGiftCardCount">0</span> gift cards, each with ₦100 balance.</p>
                    </div>
                </div>
                
                <button type="submit" class="btn btn-warning" style="width: 100%;">Generate Gift Card</button>
            </form>
            <div class="giftcard-result" id="giftcardResult" style="display: none;">
                <h4>Gift Card Generated Successfully!</h4>
                <p>Your gift card code:</p>
                <div id="giftcardCodesList"></div>
            </div>
        </div>
    </div>
    
    <div id="giftCardValidationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Enter Gift Card Code</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="form-group">
                <div class="giftcard-input-group">
                    <input type="text" id="giftcardCode" placeholder="Enter your gift card code">
                    <button class="paste-btn" id="pasteGiftCardBtn">
                        <i class="fas fa-paste"></i> Paste
                    </button>
                </div>
            </div>
            <div class="success-animation" id="successAnimation" style="display: none;">
                <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                    <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
                    <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                </svg>
            </div>
            <div class="form-group">
                <button id="validateGiftcardBtn" class="btn btn-primary" style="width: 100%;">Validate Gift Card</button>
            </div>
        </div>
    </div>
    
    <!-- Payment Modal -->
    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Confirm Payment</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="payment-slider-container">
                <p>Slide to confirm payment of <span id="paymentAmount">₦0</span></p>
                <input type="range" min="0" max="100" value="0" class="payment-slider" id="paymentSlider">
            </div>
            <div class="payment-status" id="paymentStatus">
                <!-- Payment status will be displayed here -->
            </div>
            <div class="success-animation" id="paymentSuccessAnimation" style="display: none;">
                <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                    <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
                    <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                </svg>
            </div>
        </div>
    </div>
    
    <!-- Other modals (resultModal, winnerDetailsModal, etc.) -->
    <div id="resultModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Game Result</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="result-popup" id="resultContent">
                <!-- Result content will be populated by JavaScript -->
            </div>
        </div>
    </div>
    
    <div id="winnerDetailsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Winner Details</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="winnerForm">
                <div class="winner-details">
                    <div class="form-group">
                        <label for="winnerName">Full Name</label>
                        <input type="text" id="winnerName" required>
                    </div>
                    <div class="form-group">
                        <label for="winnerPhone">Phone Number</label>
                        <input type="text" id="winnerPhone" required>
                    </div>
                    <div class="form-group">
                        <label for="winnerSocial">Social Media Handle</label>
                        <input type="text" id="winnerSocial" required>
                    </div>
                    <div class="form-group">
                        <label for="winnerBank">Bank Name</label>
                        <input type="text" id="winnerBank">
                    </div>
                    <div class="form-group">
                        <label for="winnerAccount">Account Number</label>
                        <input type="text" id="winnerAccount">
                    </div>
                    <div class="form-group">
                        <label for="paymentMethod">Payment Method</label>
                        <select id="paymentMethod" required>
                            <option value="bank">Bank Transfer</option>
                            <option value="crypto">Cryptocurrency</option>
                        </select>
                    </div>
                    <div class="form-group" id="cryptoDetails" style="display: none;">
                        <label for="cryptoWallet">Crypto Wallet Address</label>
                        <input type="text" id="cryptoWallet">
                    </div>
                    <!-- NEW: Payment Description and Amount Spent for Normal Game Winners -->
                    <div class="form-group" id="paymentDetailsSection">
                        <label for="paymentDescriptionWinner">Payment Description</label>
                        <textarea id="paymentDescriptionWinner" placeholder="Describe the payment method and provide receipt number if applicable" required></textarea>
                    </div>
                    <div class="form-group" id="amountSpentSection">
                        <label for="amountSpent">Total Amount Spent</label>
                        <input type="number" id="amountSpent" min="0" step="0.01" required>
                    </div>
                </div>
                <button type="submit" class="btn btn-success" style="width: 100%; margin-top: 20px;">Submit Details</button>
            </form>
        </div>
    </div>

    <!-- Admin Modals -->
    <div id="manageUsersModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Manage Users</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="form-group">
                <input type="text" id="searchUsers" placeholder="Search users...">
            </div>
            <div class="user-list" id="usersList">
                <!-- Users will be populated by JavaScript -->
            </div>
        </div>
    </div>
    
    <div id="viewMessagesModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">User Messages</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="form-group">
                <select id="userMessagesFilter">
                    <option value="all">All Users</option>
                    <!-- User options will be populated by JavaScript -->
                </select>
            </div>
            <div class="chat-messages" id="adminChatMessages">
                <!-- Messages will be populated by JavaScript -->
            </div>
            <div class="chat-reply-form">
                <form id="adminReplyForm">
                    <div class="form-group">
                        <textarea id="adminReplyMessage" placeholder="Type your reply..." rows="3" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Send Reply</button>
                </form>
            </div>
            <div class="user-actions" style="margin-top: 15px;">
                <button id="debitUserBtn" class="btn btn-warning btn-sm">Debit User</button>
                <button id="banUserBtn" class="btn btn-danger btn-sm">Ban User</button>
                <button id="settleConversationBtn" class="btn btn-success btn-sm">Settle Conversation</button>
            </div>
        </div>
    </div>
    
    <!-- NEW: Manage Gift Cards Modal -->
    <div id="manageGiftCardsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Manage Gift Cards</h3>
                <div class="refresh-container">
                    <button class="refresh-btn" id="refreshGiftCardsBtn">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
                <button class="close-btn">&times;</button>
            </div>
            
            <div class="form-group">
                <label for="giftCardFilter">Filter Gift Cards</label>
                <select id="giftCardFilter">
                    <option value="all">All Gift Cards</option>
                    <option value="active">Active (Unused)</option>
                    <option value="used">Used</option>
                    <option value="vendor">Vendor Cards</option>
                    <option value="withWinners">With Winners</option>
                </select>
            </div>
            
            <div class="form-group">
                <input type="text" id="searchGiftCards" placeholder="Search by code or user...">
            </div>
            
            <div style="max-height: 500px; overflow-y: auto;">
                <table class="gift-cards-table">
                    <thead>
                        <tr>
                            <th>Code</th>
                            <th>Type</th>
                            <th>Value</th>
                            <th>Balance</th>
                            <th>Status</th>
                            <th>User/Winner</th>
                            <th>Created</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="giftCardsTable">
                        <tr>
                            <td colspan="8" style="text-align: center;">Loading gift cards...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <div id="generateVendorCardModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Generate Vendor Cards</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="vendorCardForm">
                <div class="form-group">
                    <label for="vendorCardCount">Number of Vendor Cards</label>
                    <input type="number" id="vendorCardCount" min="1" required>
                </div>
                <div class="form-group">
                    <label for="vendorCardValue">Value per Card (<span id="vendorCurrencySymbol">₦</span>)</label>
                    <input type="number" id="vendorCardValue" min="100" required>
                </div>
                <button type="submit" class="btn btn-warning" style="width: 100%;">Generate Vendor Cards</button>
            </form>
            <div class="giftcard-result" id="vendorCardResult" style="display: none;">
                <h4>Vendor Cards Generated Successfully!</h4>
                <p>Your vendor card codes:</p>
                <div id="vendorCardCodesList"></div>
            </div>
        </div>
    </div>
    
    <div id="assignCardModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Assign Gift Card</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="assignCardForm">
                <div class="form-group">
                    <label for="assignUser">Select User</label>
                    <select id="assignUser" required>
                        <!-- Users will be populated by JavaScript -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="assignCardCount">Number of Gift Cards</label>
                    <input type="number" id="assignCardCount" min="1" required>
                </div>
                <div class="form-group">
                    <label for="assignCardValue">Value per Card (<span id="assignCurrencySymbol">₦</span>)</label>
                    <input type="number" id="assignCardValue" min="100" required>
                </div>
                <button type="submit" class="btn btn-success" style="width: 100%;">Assign Gift Cards</button>
            </form>
        </div>
    </div>
    
    <div id="gameSettingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Game Settings</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="gameSettingsForm">
                <div class="form-group">
                    <label for="gamePrice">Game Price (<span id="gamePriceCurrency">₦</span>)</label>
                    <input type="number" id="gamePrice" min="1" required>
                </div>
                <div class="form-group">
                    <label for="dailyWinners">Daily Winners Limit</label>
                    <input type="number" id="dailyWinners" min="1" required>
                </div>
                <div class="form-group">
                    <label for="winningTime">Winning Time (seconds)</label>
                    <input type="number" id="winningTimeSetting" step="0.01" min="0.1" required>
                </div>
                <div class="form-group">
                    <label for="openGiveawayPrice">Open Giveaway Price (<span id="openGiveawayCurrency">₦</span>)</label>
                    <input type="number" id="openGiveawayPrice" min="1" required>
                </div>
                <div class="form-group">
                    <label for="giftCardPaymentUrl">Gift Card Payment URL</label>
                    <input type="url" id="giftCardPaymentUrl" required>
                </div>
                <div class="form-group">
                    <label for="openGiveawayPaymentUrl">Open Giveaway Payment URL</label>
                    <input type="url" id="openGiveawayPaymentUrl" required>
                </div>
                <div class="form-group">
                    <label for="fundWalletUrl">Fund Wallet URL</label>
                    <input type="url" id="fundWalletUrl" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Save Settings</button>
            </form>
        </div>
    </div>
    
    <div id="socialSettingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Social Settings</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="socialSettingsForm">
                <div class="form-group">
                    <label for="youtubeUrl">YouTube URL</label>
                    <input type="url" id="youtubeUrl">
                </div>
                <div class="form-group">
                    <label for="tiktokUrl">TikTok URL</label>
                    <input type="url" id="tiktokUrl">
                </div>
                <div class="form-group">
                    <label for="twitterUrl">Twitter URL</label>
                    <input type="url" id="twitterUrl">
                </div>
                <div class="form-group">
                    <label for="facebookUrl">Facebook URL</label>
                    <input type="url" id="facebookUrl">
                </div>
                <div class="form-group">
                    <label for="instagramUrl">Instagram URL</label>
                    <input type="url" id="instagramUrl">
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Save Settings</button>
            </form>
        </div>
    </div>
    
    <div id="withdrawalRequestsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Withdrawal Requests</h3>
                <div class="refresh-container">
                    <button class="refresh-btn" id="refreshWithdrawalRequestsBtn">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
                <button class="close-btn">&times;</button>
            </div>
            <div class="pending-transactions">
                <div id="withdrawalRequestsList" style="max-height: 500px; overflow-y: auto;">
                    <!-- Withdrawal requests will be populated by JavaScript -->
                    <p style="text-align: center; padding: 20px;">Loading withdrawal requests...</p>
                </div>
            </div>
        </div>
    </div>
    
    <div id="pendingTransactionsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Payment Requests</h3>
                <div class="refresh-container">
                    <button class="refresh-btn" id="refreshPendingTransactionsBtn">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
                <button class="close-btn">&times;</button>
            </div>
            <div class="pending-transactions">
                <div id="pendingTransactionsList" style="max-height: 500px; overflow-y: auto;">
                    <!-- Pending transactions will be populated by JavaScript -->
                    <p style="text-align: center; padding: 20px;">Loading payment requests...</p>
                </div>
            </div>
        </div>
    </div>
    
    <div id="taskCompletionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Complete Tasks to Play</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="task-list" id="taskList">
                <!-- Tasks will be populated by JavaScript -->
            </div>
            <button id="completeTasksBtn" class="btn btn-success" style="width: 100%;">Complete Tasks & Play</button>
        </div>
    </div>

    <!-- NEW: Customer Care Management Modal -->
    <div id="customerCareManagementModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Customer Care Management</h3>
                <div class="refresh-container">
                    <button class="refresh-btn" id="refreshCustomerCareBtn">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
                <button class="close-btn">&times;</button>
            </div>
            
            <div class="form-group">
                <input type="text" id="searchCustomerCare" placeholder="Search users...">
            </div>
            
            <div class="user-list" id="customerCareList">
                <!-- Customer care users will be populated by JavaScript -->
            </div>
            
            <div class="form-group">
                <h4>Assign Customer Care Role</h4>
                <select id="assignCustomerCareUser">
                    <!-- Users will be populated by JavaScript -->
                </select>
                <button class="btn btn-success" id="assignCustomerCareBtn" style="width: 100%; margin-top: 10px;">
                    <i class="fas fa-user-plus"></i> Assign as Customer Care
                </button>
            </div>
            
            <div class="form-group">
                <h4>Customer Care Activity Monitor</h4>
                <input type="date" id="careActivityDate">
                <button class="btn btn-info" id="filterCareActivityBtn" style="width: 100%; margin-top: 10px;">
                    <i class="fas fa-filter"></i> Filter by Date
                </button>
            </div>
        </div>
    </div>

    <!-- NEW: Giveaway Hunt Game Modal -->
    <div id="giveawayHuntGameModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="giveawayHuntTitle">Play Giveaway</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="game-section">
                <div class="target-time" id="huntTargetTimeDisplay">
                    Target Time: <span id="huntTargetTimeValue">00.00</span> seconds
                </div>
                <div class="timer-display" id="huntTimerDisplay">00.00</div>
                <div class="game-controls">
                    <button id="huntStartBtn" class="btn btn-success game-btn">
                        <i class="fas fa-play"></i> Start Game
                    </button>
                    <button id="huntStopBtn" class="btn btn-danger game-btn" disabled>
                        <i class="fas fa-stop"></i> Stop Timer
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- NEW: Notification Popup -->
    <div id="notificationPopup" class="notification-popup" style="display: none;">
        <div id="notificationContent">
            <!-- Notification content will be populated by JavaScript -->
        </div>
        <button class="notification-close">&times;</button>
    </div>

    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>
